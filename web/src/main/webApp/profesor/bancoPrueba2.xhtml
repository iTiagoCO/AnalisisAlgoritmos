<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:composition template="/WEB-INF/template.xhtml">

    <ui:define name="title">Crear Hotel</ui:define>

    <ui:define name="content">

        <p:panel header="Crear Hotel">
            <h:form>


                <h:panelGrid columns="3" cellpadding="5">




                    <p:outputLabel value="Código:" for="codigoHotel"/>
                    <p:inputText  id="codigoHotel" value="#{hotelBean.hotel.codigo}" required="true"/>
                    <p:message for="codigoHotel"/>

                    <p:outputLabel value="Nombre:" for="nombreHotel"/>
                    <p:inputText  id="nombreHotel" value="#{hotelBean.hotel.nombre}" required="true"/>
                    <p:message for="nombreHotel"/>

                    <p:outputLabel value="Ciudad:" for="ciudadHotel"/>
                    <p:selectOneMenu id="ciudadHotel" value="#{hotelBean.hotel.ciudad}" required="true" converter="#{ciudadConverter}">
                        <f:selectItem itemLabel="Seleccione la ciudad" noSelectionOption="true" />
                        <f:selectItems var="ciudad" itemLabel="#{ciudad.nombre}"
                                       value="#{hotelBean.ciudades}" />
                    </p:selectOneMenu>
                    <p:message for="ciudadHotel"/>

                    <p:outputLabel value="Dirección:" for="direccionHotel"/>
                    <p:inputText  id="direccionHotel" value="#{hotelBean.hotel.direccion}" required="true"/>
                    <p:message for="direccionHotel"/>

                    <p:outputLabel value="Descripción:" for="descripcionHotel"/>
                    <p:inputTextarea  id="descripcionHotel" value="#{hotelBean.hotel.descripcion}" required="true"/>
                    <p:message for="descripcionHotel"/>

                    <p:outputLabel value="Número estrellas:" for="numEstrellas"/>
                    <p:inputText  id="numEstrellas" type="number" value="#{hotelBean.hotel.numeroEstrellas}" required="true"/>
                    <p:message for="numEstrellas"/>

                    <p:outputLabel value="Teléfono:" for="telefonoHotel"/>
                    <p:inputText  id="telefonoHotel" value="#{hotelBean.hotel.telefono}" required="true"/>
                    <p:message for="telefonoHotel"/>

                    <p:outputLabel for="imagenesHotel" value="Imágen(es): " />
                    <p:fileUpload id="imagenesHotel"

                                  listener="#{hotelBean.subirImagenes}" mode="advanced"
                                  multiple="true" sizeLimit="1000000" fileLimit="5"
                                  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" required="true" />
                    <p:message for="imagenesHotel"/>

                    <p:outputLabel value="Caracteristica(s):" for="caracteristicasHotel"/>
                    <p:selectManyCheckbox id="caracteristicasHotel" value="#{hotelBean.hotel.caracteristicas}" required="true" converter="#{caracteristicasConverter}">
                        <f:selectItems var="caracteristicas" itemLabel="#{caracteristicas.nombre}" value="#{hotelBean.caracteristicas}" />
                    </p:selectManyCheckbox>
                    <p:message for="caracteristicasHotel"/>

                </h:panelGrid>

                <br/>
                <p:commandButton onclick="PF('crearHabitacion').show()" value="Crear Habitacion" update="@form" icon="pi pi-plus" />
                <br/>
                <br/>
                <p:commandButton action="#{hotelBean.crearHotel}" value="Crear Hotel" update="@form" icon="pi pi-check" />
                <br/>

                <p:growl for="msjBean" showDetail="true" />

            </h:form>
        </p:panel>


        <p:dialog header="Crear Habitación"  showEffect="fade" modal="true" widgetVar="manageProductDialog"  responsive="true">
            <h:form>
                <h:panelGrid columns="3" cellpadding="5">
                    <p:outputLabel value="Número:" for="numeroHabitacion"/>
                    <p:inputText type="number"  id="numeroHabitacion" value="#{hotelBean.habitacion.numero}" required="true"/>
                    <p:message for="numeroHabitacion"/>

                    <p:outputLabel value="Capacidad:" for="capacidadHabitacion"/>
                    <p:inputText type="number"  id="capacidadHabitacion" value="#{hotelBean.habitacion.capacidad}" required="true"/>
                    <p:message for="capacidadHabitacion"/>

                    <p:outputLabel value="Precio:" for="precioHabitaciob"/>
                    <p:inputText type="number"  id="precioHabitaciob" value="#{hotelBean.habitacion.precio}" required="true"/>
                    <p:message for="precioHabitaciob"/>

                    <p:outputLabel value="Cama(s):" for="camasHabitacion"/>
                    <p:selectManyCheckbox id="camasHabitacion" value="#{hotelBean.habitacion.camas}" required="true" converter="#{camasConverter}">
                        <f:selectItems var="cama" itemLabel="#{cama.tipo}" value="#{hotelBean.camas}" />
                    </p:selectManyCheckbox>
                    <p:message for="camasHabitacion"/>

                    <p:outputLabel value="Caracteristica(s):" for="caracteristicasHabitacion"/>
                    <p:selectManyCheckbox id="caracteristicasHabitacion" value="#{hotelBean.habitacion.caracteristicas}" required="true" converter="#{caracteristicasConverter}">
                        <f:selectItems var="caracteristicasHa" itemLabel="#{caracteristicasHa.nombre}" value="#{hotelBean.caracteristicasHabitacion}" />
                    </p:selectManyCheckbox>
                    <p:message for="caracteristicasHabitacion"/>

                    <p:outputLabel for="imagenesHabitacion" value="Imágen(es): " />
                    <p:fileUpload id="imagenesHabitacion"

                                  listener="#{hotelBean.subirImagenesHabitacion}" mode="advanced"
                                  multiple="true" sizeLimit="1000000" fileLimit="5"
                                  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" required="true" />
                    <p:message for="imagenesHabitacion"/>

                </h:panelGrid>
                <div align="center">
                    <p:commandButton  action="#{hotelBean.crearHabitacion}"  value="Crear Habitacion" update="@form" icon="pi pi-check" />
                </div>
                <p:growl for="msjBean" showDetail="true" />
            </h:form>
        </p:dialog>


    </ui:define>
</ui:composition>
</html>